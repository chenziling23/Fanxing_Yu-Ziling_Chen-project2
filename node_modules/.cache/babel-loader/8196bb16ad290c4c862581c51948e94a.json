{"ast":null,"code":"import createBoard from \"./need\";\nlet defaultBoard = createBoard();\nconst defaultState = {\n  symbol: \"\",\n  board: defaultBoard\n};\n\nfunction generateGameBoard() {\n  return defaultState.board;\n}\n\nfunction exists(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    for (let j = 0; j < 10; j++) {\n      if (arr[i][j] === \"yes\") {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction check(x, y, arr) {\n  if (arr[x][y] === \"X\" || arr[x][y] === \"Y\") {\n    return false;\n  }\n\n  return true;\n}\n\nexport default function boardReducer(state, action) {\n  if (state === undefined) {\n    return generateGameBoard();\n  }\n\n  if (action.type === \"boardClick\") {\n    let x = Math.floor(Math.random() * 9);\n    let y = Math.floor(Math.random() * 9);\n\n    while (!check(x, y, state)) {\n      x = Math.floor(Math.random() * 9);\n      y = Math.floor(Math.random() * 9);\n    }\n\n    const value = state[x][y];\n\n    if (value === \"yes\") {\n      state[x][y] = \"Y\";\n    } else if (value === \"no\") {\n      state[x][y] = \"X\";\n    }\n\n    if (exists(state)) {\n      alert(\"ai win!\");\n    }\n\n    ;\n    return [...state];\n  }\n\n  if (action.type === \"reset\") {\n    for (let i = 0; i < state.length; i++) {\n      for (let j = 0; j < state.length; j++) {\n        state[i][j] = 'no';\n      }\n    }\n\n    state = createBoard();\n    return [...state];\n  }\n\n  return state;\n}","map":{"version":3,"sources":["/Users/ziling/Desktop/battleship-app/src/reducers/userReducer.js"],"names":["createBoard","defaultBoard","defaultState","symbol","board","generateGameBoard","exists","arr","i","length","j","check","x","y","boardReducer","state","action","undefined","type","Math","floor","random","value","alert"],"mappings":"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","sourcesContent":["import createBoard from \"./need\";\n\nlet defaultBoard = createBoard();\n\nconst defaultState = {\n    symbol: \"\",\n    board:defaultBoard\n}\n\nfunction generateGameBoard() {\n    return defaultState.board;\n}\n\nfunction exists(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        for(let j = 0; j < 10; j++){\n            if (arr[i][j] === \"yes\"){\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nfunction check(x,y,arr){\n    if (arr[x][y] === \"X\" || arr[x][y] === \"Y\"){\n        return false;\n    }\n    return true;\n}\n\nexport default function boardReducer (state, action){\n    if (state === undefined) {\n        return generateGameBoard();\n    }\n    if (action.type === \"boardClick\") {\n        let x = Math.floor(Math.random()*9);\n        let y = Math.floor(Math.random()*9);\n        while (!check(x,y,state)){\n            x = Math.floor(Math.random()*9);\n            y = Math.floor(Math.random()*9);\n        }\n        const value = state[x][y];\n        if (value === \"yes\") {\n            state[x][y] = \"Y\";\n        }else if (value === \"no\") {\n            state[x][y] = \"X\";\n        }\n        if (exists(state)){\n            alert(\"ai win!\");\n        };\n        return [...state];\n    }\n    if(action.type === \"reset\") {\n        for (let i = 0; i < state.length; i++) {\n            for (let j = 0; j < state.length; j++){\n                state[i][j] = 'no';\n            }\n        }\n        state = createBoard();\n        return [...state];\n    }\n    return state;\n}"]},"metadata":{},"sourceType":"module"}