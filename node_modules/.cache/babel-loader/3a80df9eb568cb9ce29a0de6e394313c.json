{"ast":null,"code":"export default function createBoard() {\n  const defaultBoard = [];\n  const direction = [\"v\", \"h\"];\n\n  for (let i = 0; i < 10; i++) {\n    defaultBoard.push([]);\n\n    for (let j = 0; j < 10; j++) {\n      defaultBoard[i].push(\"no\");\n    }\n  } //Random Place\n\n\n  function randomSelect() {\n    let startX = Math.floor(Math.random() * 10);\n    let startY = Math.floor(Math.random() * 10);\n    let dir = Math.floor(Math.random() * 2);\n    return [startX, startY, dir];\n  } //check right\n\n\n  function checkRight(shipLen, x, y) {\n    for (let i = 0; i < shipLen; i++) {\n      if (y + i < 0 || y + i > 9 || defaultBoard[x][y + i] === \"yes\") {\n        return false;\n      }\n    }\n\n    return true;\n  } //check left\n\n\n  function checkLeft(shipLen, x, y) {\n    for (let i = 0; i < shipLen; i++) {\n      if (y - i < 0 || y - i > 9 || defaultBoard[x][y - i] === \"yes\") {\n        return false;\n      }\n    }\n\n    return true;\n  } //check up\n\n\n  function checkUp(shipLen, x, y) {\n    for (let i = 0; i < shipLen; i++) {\n      if (x - i < 0 || x - i > 9 || defaultBoard[x - i][y] === \"yes\") {\n        return false;\n      }\n    }\n\n    return true;\n  } //check down\n\n\n  function checkDown(shipLen, x, y) {\n    for (let i = 0; i < shipLen; i++) {\n      if (x + i < 0 || x + i > 9 || defaultBoard[x + i][y] === \"yes\") {\n        return false;\n      }\n    }\n\n    return true;\n  } //5*1\n\n\n  function placeShip(shipLen) {\n    let [x, y, dir] = randomSelect();\n\n    while (defaultBoard[x][y] === \"yes\" || !checkDown(shipLen, x, y) && !checkUp(shipLen, x, y) && !checkRight(shipLen, x, y) && !checkLeft(shipLen, x, y)) {\n      [x, y, dir] = randomSelect();\n    }\n\n    if (direction[dir] === \"v\" && !checkDown(shipLen, x, y) && !checkUp(shipLen, x, y) || direction[dir] === \"h\" && (checkLeft(shipLen, x, y) || checkRight(shipLen, x, y))) {\n      if (checkLeft(shipLen, x, y)) {\n        for (let i = 0; i < shipLen; i++) {\n          console.log(\"1\");\n          defaultBoard[x][y - i] = \"yes\";\n        }\n      } else {\n        for (let i = 0; i < shipLen; i++) {\n          defaultBoard[x][y + i] = \"yes\";\n        }\n      }\n    } else {\n      if (checkDown(shipLen, x, y)) {\n        for (let i = 0; i < shipLen; i++) {\n          defaultBoard[x + i][y] = \"yes\";\n        }\n      } else {\n        for (let i = 0; i < shipLen; i++) {\n          defaultBoard[x - i][y] = \"yes\";\n        }\n      }\n    }\n  }\n\n  placeShip(5);\n  placeShip(4);\n  placeShip(3);\n  placeShip(3);\n  placeShip(2);\n  return defaultBoard;\n}","map":{"version":3,"sources":["/Users/ziling/Desktop/battleship-app/src/reducers/creatBoard.js"],"names":["createBoard","defaultBoard","direction","i","push","j","randomSelect","startX","Math","floor","random","startY","dir","checkRight","shipLen","x","y","checkLeft","checkUp","checkDown","placeShip","console","log"],"mappings":"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","sourcesContent":["export default function createBoard(){\n    const defaultBoard = [];\n    const direction = [\"v\",\"h\"]\n    for(let i = 0; i < 10; i++) {\n        defaultBoard.push([])\n        for(let j = 0; j < 10; j++){\n            defaultBoard[i].push(\"no\");\n        }\n    }\n\n    //Random Place\n    function randomSelect() {\n        let startX = Math.floor(Math.random()*10);\n        let startY = Math.floor(Math.random()*10);\n        let dir = Math.floor(Math.random()*2);\n        return [startX,startY,dir];\n    }\n\n\n    //check right\n    function checkRight(shipLen,x,y) {\n        for (let i = 0; i < shipLen; i++){\n            if (y+i < 0 || y+i > 9 || defaultBoard[x][y+i] === \"yes\"){\n                return false;\n            }\n        }\n        return true;\n    }\n    //check left\n    function checkLeft(shipLen,x,y) {\n        for (let i = 0; i < shipLen; i++){\n            if (y-i < 0 || y-i > 9 || defaultBoard[x][y-i] === \"yes\"){\n                return false;\n            }\n        }\n        return true;\n    }\n    //check up\n    function checkUp(shipLen,x,y) {\n        for (let i = 0; i < shipLen; i++){\n            if (x-i < 0 || x-i > 9 || defaultBoard[x-i][y] === \"yes\"){\n                return false;\n            }\n        }\n        return true;\n    }\n    //check down\n    function checkDown(shipLen,x,y) {\n        for (let i = 0; i < shipLen; i++){\n            if (x+i < 0 || x+i > 9 || defaultBoard[x+i][y] === \"yes\"){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    //5*1\n    function placeShip(shipLen){\n        let [x,y,dir] = randomSelect();\n\n        while (defaultBoard[x][y] === \"yes\" || (!checkDown(shipLen,x,y) && !checkUp(shipLen,x,y) && !checkRight(shipLen,x,y) && !checkLeft(shipLen,x,y))) {\n            [x,y,dir] = randomSelect();\n        }\n\n        if ((direction[dir] === \"v\" && !checkDown(shipLen,x,y) && !checkUp(shipLen,x,y)) || (direction[dir] ===\"h\" && (checkLeft(shipLen,x,y)||checkRight(shipLen,x,y)))) {\n            if(checkLeft(shipLen,x,y)){\n                for(let i = 0; i < shipLen; i++){\n                    console.log(\"1\");\n                    defaultBoard[x][y-i] = \"yes\";\n                }\n            }else {\n                for(let i = 0; i < shipLen; i++){\n                    defaultBoard[x][y+i] = \"yes\";\n                }\n            }\n        }else{\n            if(checkDown(shipLen,x,y)){\n                for(let i = 0; i < shipLen; i++){\n                    defaultBoard[x+i][y] = \"yes\";\n                }\n            }else{\n                for(let i = 0; i < shipLen; i++){\n                    defaultBoard[x-i][y] = \"yes\";\n                }\n            }\n        }\n    }\n    placeShip(5);\n    placeShip(4);\n    placeShip(3);\n    placeShip(3);\n    placeShip(2);\n    return defaultBoard;\n\n}\n"]},"metadata":{},"sourceType":"module"}